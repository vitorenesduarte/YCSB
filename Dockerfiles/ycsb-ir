FROM vitorenesduarte/ycsb-base

MAINTAINER Vitor Enes <vitorenesduarte@gmail.com>

#ADD https://api.github.com/repos/otrack/epaxos/git/refs/heads/master epaxos-version.json
#RUN git clone https://github.com/otrack/epaxos
#RUN GOPATH=/app/epaxos go get -u github.com/emirpasic/gods/maps/treemap
#RUN GOPATH=/app/epaxos go get -u github.com/google/uuid
#RUN GOPATH=/app/epaxos go install client
#RUN GOPATH=/app/epaxos go get github.com/sridharv/gojava
#RUN GOPATH=/app/epaxos /app/epaxos/bin/gojava -o /app/epaxos/epaxos.jar build bindings
#RUN mvn install:install-file -Dfile=/app/epaxos/epaxos.jar -DgroupId=epaxos -DartifactId=epaxos -Dversion=1.0 -Dpackaging=jar

ADD https://api.github.com/repos/vitorenesduarte/VCD-java-client/git/refs/heads/drain vcd-java-client-version.json
RUN git clone -b drain https://github.com/vitorenesduarte/VCD-java-client
RUN mvn -f VCD-java-client clean install -DskipTests

ADD https://api.github.com/repos/vitorenesduarte/MGB-SMap/git/refs/heads/master mgb-smap-version.json
RUN git clone https://github.com/vitorenesduarte/MGB-SMap.git
RUN make -C MGB-SMap install
